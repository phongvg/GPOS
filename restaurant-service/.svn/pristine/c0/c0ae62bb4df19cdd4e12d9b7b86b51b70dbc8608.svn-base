package com.gg.gpos.res.manager;

import java.util.List;
import java.util.Optional;
import java.util.stream.Collectors;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.gg.gpos.res.dto.DistrictDto;
import com.gg.gpos.res.entity.District;
import com.gg.gpos.res.mapper.DistrictMapper;
import com.gg.gpos.res.repository.DistrictRepository;

/**
 * Generated by Speed Generator
 * 
 * @author <a href="mailto:ngtrungkien@gmail.com">Kien Nguyen</a>
 */
@Service
public class DistrictManager {
	private DistrictRepository districtRepository;
	@Autowired
	public void setDistrictRepository(DistrictRepository districtRepository) {
		this.districtRepository = districtRepository;
	}
	private DistrictMapper districtMapper;
	@Autowired
	public void setDistrictMapper(DistrictMapper districtMapper) {
		this.districtMapper = districtMapper;
	}
	
	public DistrictDto get(Long id) {
		return districtRepository.findById(id).map(districtMapper::entityToDto).orElse(null);
	}
	
	public List<DistrictDto> gets() {
		return districtRepository.findAll().stream().map(districtMapper::entityToDto).collect(Collectors.toList());
	}
	
	public DistrictDto save(DistrictDto districtDto) {
		District district = Optional.ofNullable(districtDto).map(districtMapper::dtoToEntity).orElse(null);
		if (district != null) {
			return Optional.ofNullable(districtRepository.save(district)).map(districtMapper::entityToDto).orElse(null);
		} else {
			return null;
		}
	}
}